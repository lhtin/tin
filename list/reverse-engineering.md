# 【翻译】如何提升你的逆向工程能力

有关逆向工程的指南和原则，来自一个对现代Web框架进行了逆向工程的开发者。

> 如果我无法创造/重造某个东西，说明我没有理解这个东西。

上面这句名言出自费曼先生，他是我们这个时代最伟大的科学家之一。他的意思是，从一张白纸开始，根据心中已有的知识，可以重新推导出任何的理论结果。费曼认为只有这种能力才标志着对一个东西的真正理解。

我坚信自己对原理的理解是必要的。牢固地掌握对某个常见问题的已有解决方法，对于我们想出一个新的解决方法是非常有必要的。你必须要知道，在你工作的领域，每一个已被解决的问题是如何被解决的。

然而，有一个难点摆在面前——去哪里寻找到这些原理性的知识？在这个快节奏的社会，某个技术的创造者基本没有时间编写有关该技术原理的文章。那么，还有其他方法吗？我推荐逆向工程方法。

我曾经因为对Angular的逆向工程文章被大家熟知。不过Angular不是唯一一个我深入探索过的框架。我也探索过Vue.js、Webpack、jQuery以及其他的Web库和框架。我现在正在探索React。因此，我相信我获得了足够多的洞悉来分享与你，帮助你开始进行逆向工程。

对于我来说，逆向工程的过程就是发现新东西的过程。这也是一种大脑状态，对新发现和极客思维保持兴奋：总是保持着好奇心。我希望这个指南可以帮助你的大脑进入到同样的状态。

我将我的发现分成两篇文章。本文包含逆向工程指南和我在逆向工程中用到的原则。第二篇文章通过对React中的一小部分进行逆向工程，演示了这些原则是如何应用到实际中的。本文同时包含了一些有趣的调试技巧，用于提高你逆向工程的效率。

首先让我们从为什么要进行逆向工程开始吧。

## 为什么要进行逆向工程

首先让我们面对现实，逆向工程是一个艰巨的过程。它要耗费大量时间，需要你懂得大量的基础知识。那么为什么还要进行逆向工程？

<!-->
Most people believe that the primary goal of reverse-engineering is to enhance your knowledge about a technology to find a better job. And since the lifespan of modern technologies is pretty short, it doesn’t make sense to invest time to dive too deep.
<-->

首先，通过深入理解某个技术的源码，你对这个技术有非常深入的理解。但是，这仅仅是你可以从逆向工程中获得的好处之一。

当你深入到源码时，你将了解到解决常见问题的新模式，并且将其应用到你的工作中。话说我经常遇到过这种情况。比如，当我对Angular Router进行逆向工程时，我了解到了如何懒加载组件和模块，进而帮助我搭建了一个基于插件的平台。

你还可以学到编程语言中的很多新特性。当我对Angular逆向工程时，我学到了JavaScript的多态特性。你将会了解到大部分使用到的底层API。你将学到新的东西，以及他们的实际应用，而不只是在一本书中读到然后只是猜想可能的应用场景。

当你决定跟社区分享你的发现时，这个经历将会有力于展示你的技术实力。通过帮助他人进而展示自己，决定是双赢。我的成功故事是从[深入Angular（Angular-In-Depth，AiD）]()开始的，那时我决定开始分享我的发现。从此，AiD逐渐成为Angular世界最大的内容生产者，并且促使我能够在相关会议上发表演讲，也帮助我在[ag-Grid]()找到了一份完美的工作。通过花时间深入学习一门技术，你可以锻炼自己解决问题的能力、毅力以及好奇心。这也是技术公司希望候选人拥有的品质。

阅读现有代码或者探究新代码时，你也会更加熟练。鲍勃叔叔马丁（Rebert C. Martin）认为，开发者花在阅读代码上的时间是花在编写代码上的10倍。为了编写新代码，我们常常需要阅读已有的代码。这也是所有开发者刚接手某个项目时开始做的事情。通过对某个技术逆向工程的练习，你将会在阅读代码上有更多的优势。

正如你所看到的，进行逆向工程可以使你成为一个更好的工程师。

## 进行逆向工程所需的知识

我们来看看，进行更高效的逆向工程所需要了解的内容。这些内容需要你花时间学习和掌握。内容会很多，而且你对其中大部内容都可能还不知道。不过不用担心，每天花上一两个小时来刻意练习，你将成为这个领域的专家。

### 有关底层平台的核心基础（也就是我们要研究的技术所依赖的技术）

成功地进行逆向工程的第一个要求是深入理解底层平台的API。具体到Web框架和库上，需要理解的东西包括：JavaScript、DOM API和浏览器API。

深入理解JavaScript不是说你知道闭包或者`this`的指向,而是意味着你知道一些更高级的特性，比如对象属性描述器（Vue.js中使用到）、对象代理机制或者位掩码（Angular中使用到）。

对于DOM和浏览器API，仅仅知道如何创建和追加新的DOM节点是不够的。你还需要知道追加一个已有的节点会发什么，以及浏览器是如何对待未知元素的。你还要能使用原生API发起HTTP请求，并且能理解各种异常的情况。

要精通JavaScript的话，推荐阅读Axel Rauschmayer的书。要精通DOM和浏览器API的话，推荐阅读[MDN文档]()和[Google开发者文档]()。当然，如果你能够阅读标准文档，当然也是不过的资料：JavaScript的标准[EcmaScript标准]()以及有关浏览器的[WHATWG标准]()。

### 调试工具

了解你喜欢的浏览器开发者工具的方方面面是非常的重要。我喜欢的浏览器是Chrome。在Chrome中，你应该要知道这几点：

- 在console中，`$0`所代表的意义
- 条件断点是如何工作的
- 在发生异常前如何断住代码
- 如何跳过部分代码或者跳出当前函数
- 如果搜索所加载资源中的内容

有关Chrome开发工具最好的资源当然是Google的[网页开发者工具网站]()

### 常见设计模式和主流的架构概念

技术有时会使用常见的设计模式。因此了解一些常见设计模式也很有用处。例如，Webpack依赖了异步执行JS模式，该模式由[async]库实现。在ES模块出来之前，所有的框架和库都是使用的UMD格式构建JS发行包。随着你探索的框架和库越来越多，你能够识别出这些常见模式，这也会使你阅读代码更加高效。

### 跟特定技术相关的概念

了解框架或库相关的概念也有助于你进行逆向工程。例如，在开始对一个框架进行逆向工程前，你就知道了什么是组件。有时你可以从相关的文档上了解到这些概念，有时从更深入的文章或者设计文档中了解。在开始逆向工程之前，阅读你能找到的任何资料。搜索了解你在代码中发现的新概念。我建议阅读有关具体实现细节的资料，而不是给一般读者看的简化版。会议上的演讲不适合用来学习这些具体细节。Github上相关的设计文档和深入的文章会更加有帮助。

## 源码探索指南
